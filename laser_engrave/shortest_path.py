'''fucntion to get the Eulerian path for given node connections'''
'''reference: https://www.jianshu.com/p/86b2259f806c?utm_campaign=haruki&utm_content=note&utm_medium=reader_share&utm_source=qq
'''
# eulerEdges = [(0, 2), (0, 1), (0, 3), (0, 4), (1, 2),
#               (1, 3), (1, 5), (6, 2), (3, 5), (4, 5),
#               (4, 7), (4, 10), (5, 6), (5, 8), (5, 11),
#               (6, 9), (6, 12), (7, 10), (7, 11), (8, 9),
#               (8, 11), (9, 11), (9, 12), (10, 11), (11, 12)]

# eulerEdges = [(1, 2), (1, 6), (2, 3), (2, 5), (3, 4), (4, 5),
#               (4, 9), (5, 6), (5, 8), (6, 7), (6, 8), (7, 8),
#               (8, 9)]


# eulerEdges = [(0, 1), (0, 5), (1, 2), (1, 6), (2, 3), (2, 7), (3, 4),
#              (3, 8), (3, 9), (4, 9), (5, 6), (5, 10), (5, 15), (6, 7),
#              (6, 11), (7, 8), (7, 12), (8, 9), (8, 13), (9, 14),
#              (10, 11), (10, 15), (10, 20), (11, 12), (11, 16), (12, 13), (12, 17),
#              (13, 14), (13, 18), (14, 19), (14, 24), (15, 16),
#              (15, 20), (16, 17), (16, 21), (17, 18), (17, 22), (18, 19),
#              (18, 23), (19, 24), (19, 29), (20, 21), (20, 25), (21, 22), (21, 26),
#              (22, 23), (22, 27), (23, 24), (23, 28), (24, 29),
#              (25, 26), (25, 30), (25, 35), (26, 27), (26, 31), (27, 28),
#              (27, 32), (28, 29), (28, 33), (29, 36), (30, 31), (30, 35), (30, 51),
#              (31, 32), (31, 36), (32, 33), (32, 37), (33, 34), (33, 38),
#              (34, 39), (34, 59), (35, 36), (35, 40), (36, 37),
#              (36, 41), (37, 38), (37, 42), (38, 39), (38, 43), (39, 44), (39, 69),
#              (40, 41), (40, 45), (40, 51), (41, 42), (41, 46), (42, 43),
#              (42, 47), (42, 48), (42, 55), (43, 44), (43, 49), (44, 50),
#              (44, 59), (45, 46), (45, 47), (45, 52), (46, 47), (46, 53),
#              (47, 54), (48, 49), (48, 50), (58, 56), (49, 50), (49, 57),
#              (50, 58), (51, 52), (51, 60), (52, 53), (52, 61), (53, 54),
#              (53, 62), (54, 55), (54, 63), (55, 56), (55, 64), (55, 65),
#              (55, 93), (56, 57), (56, 66), (57, 58), (57, 67), (58, 59),
#              (58, 68), (59, 69), (60, 61), (60, 70), (60, 81),
#              (61, 62), (61, 71), (62, 63), (62, 72), (63, 64), (63, 73),
#              (64, 74), (64, 92), (65, 66), (65, 75), (65, 94), (66, 67),
#              (66, 76), (67, 68), (67, 77), (68, 69), (68, 78), (69, 79),
#              (70, 71), (70, 80), (70, 82), (71, 72), (71, 81), (72, 73), (72, 82),
#              (73, 74), (73, 83), (74, 84), (74, 91), (75, 76), (75, 85),
#              (75, 95), (76, 77), (76, 86), (77, 78), (77, 87), (78, 79),
#              (78, 88), (79, 88), (79, 89), (80, 81), (81, 82),
#              (82, 83), (83, 84), (83, 90), (84, 90), (84, 97), (85, 86), (85, 87),
#              (85, 96), (86, 87), (86, 96), (87, 88), (88, 89), (90, 91),
#              (90, 97), (91, 92), (91, 98), (92, 93), (92, 99),
#              (93, 94), (93, 100), (94, 95), (94, 101), (95, 96), (95, 102),
#              (96, 103), (97, 98), (97, 104), (98, 99), (98, 105), (99, 100),
#              (99, 106), (100, 101), (100, 107), (101, 102), (101, 108),
#              (102, 103), (102, 109), (103, 110), (103, 117), (104, 105),
#              (104, 111), (104, 118), (105, 106), (105, 112), (106, 107),
#              (106, 113), (107, 108), (107, 114), (108, 109), (108, 115),
#              (109, 110), (109, 116), (110, 117), (110, 124), (111, 112), (111, 118), (111, 125),
#              (112, 113), (112, 119), (113, 114), (113, 120), (114, 115),
#              (114, 121), (115, 116), (115, 122), (116, 117), (116, 123),
#              (117, 124), (118, 119), (118, 125),
#              (119, 120), (119, 126), (120, 121), (120, 127), (121, 122),
#              (121, 128), (122, 123), (122, 129), (123, 124), (123, 130),
#              (124, 131), (125, 126), (125, 132), (126, 127), (126, 133),
#              (127, 128), (127, 134), (128, 129), (128, 135), (129, 130),
#              (129, 136), (130, 131), (130, 137), (131, 138), (131, 145),
#              (132, 133), (132, 139), (132, 146), (133, 134), (133, 140),
#              (134, 135), (134, 141), (135, 136), (135, 142), (136, 137),
#              (136, 143), (137, 138), (137, 144), (138, 145), (138, 152), (139, 140),
#              (139, 146), (139, 153), (140, 141), (140, 147), (141, 142), (141, 148),
#              (142, 143), (142, 149), (143, 144), (143, 150), (144, 145),
#              (144, 151), (145, 152), (146, 147),
#              (146, 153), (147, 148), (147, 154), (148, 149), (148, 155),
#              (149, 150), (149, 156), (150, 151), (150, 157), (151, 152),
#              (151, 158), (152, 159), (153, 154), (153, 160), (154, 155),
#              (154, 161), (155, 156), (155, 162), (156, 157), (156, 163),
#              (157, 158), (157, 164), (158, 159), (158, 165), (159, 166),
#              (159, 173), (160, 161), (160, 167), (160, 174), (161, 162),
#              (161, 168), (162, 163), (162, 169), (163, 164), (163, 170),
#              (164, 165), (164, 171), (165, 166), (165, 172), (166, 173), (166, 180),
#              (167, 168), (167, 174), (167, 182), (168, 169), (168, 175), (169, 170),
#              (169, 176), (170, 171), (170, 177), (171, 172), (171, 178),
#              (172, 173), (172, 179), (173, 180), (174, 175),
#              (174, 181), (175, 176), (175, 182), (176, 177),
#              (176, 183), (177, 178), (177, 184), (178, 179), (178, 185),
#              (178, 179), (178, 185), (179, 180), (179, 186), (180, 187),
#              (181, 182), (182, 183), (183, 184), (183, 185), (184, 185),
#              (184, 186), (185, 186), (186, 187)]  # 从1开始回到2  新的排序 从左到右 从下到上

# eulerEdges = [(1, 2), (1, 4), (2, 3), (2, 5), (3, 6), (4, 5), (4, 7), (4, 7),
#               (5, 6), (5, 8), (6, 9), (6, 9), (7, 8), (7, 10), (8, 9), (8, 11),
#               (9, 12), (10, 11), (11, 12)]  # test_01


#  只下部可行。
# eulerEdges = [(0, 1), (0, 5), (1, 2), (1, 6), (2, 3), (2, 3), (2, 7), (3, 4),
#              (3, 8),  (4, 9), (5, 6), (5, 10), (5, 10), (6, 7),
#              (6, 11), (7, 8), (7, 12), (8, 9), (8, 13), (9, 14), (9, 14),
#              (10, 11), (10, 15), (11, 12), (11, 16), (12, 13), (12, 17),
#              (13, 14), (13, 18), (14, 19), (15, 16), (15, 20),
#              (15, 20), (16, 17), (16, 21), (17, 18), (17, 22), (18, 19),
#              (18, 23), (19, 24), (19, 24), (20, 21), (20, 25), (21, 22), (21, 26),
#              (22, 23), (22, 27), (23, 24), (23, 28), (24, 29),
#              (25, 26), (25, 30), (25, 30), (26, 27), (26, 31), (27, 28),
#              (27, 32), (28, 29), (28, 33), (29, 34), (29, 34), (30, 31), (30, 35),
#              (31, 32), (31, 36), (32, 33), (32, 37), (33, 34), (33, 38),
#              (34, 39), (35, 36), (35, 40), (35, 51), (36, 37),
#              (36, 41), (37, 38), (37, 42), (38, 39), (38, 43), (39, 44), (39, 59),
#              (40, 41), (40, 45), (40, 51), (41, 42), (41, 46), (42, 43),
#              (42, 47), (42, 48), (42, 55), (43, 44), (43, 49), (44, 50),
#              (44, 59), (45, 46), (45, 47), (45, 52), (46, 47), (46, 53),
#              (47, 54), (48, 49), (48, 50), (48, 56), (49, 50), (49, 57),
#              (50, 58), (52, 53), (54, 55), (56, 57)]


# eulerEdges = [(51, 52), (51, 60), (52, 53), (52, 53), (52, 61), (53, 54),
#              (53, 62), (54, 55), (54, 55), (54, 63), (55, 56), (55, 64), (55, 65),
#              (55, 93), (56, 57), (56, 57), (56, 66), (57, 58), (57, 67), (58, 59),
#              (58, 68), (59, 69), (60, 61), (60, 70), (60, 70),
#              (61, 62), (61, 71), (62, 63), (62, 72), (63, 64), (63, 73),
#              (64, 74), (64, 92), (65, 66), (65, 75), (65, 94), (66, 67),
#              (66, 76), (67, 68), (67, 77), (68, 69), (68, 78), (69, 79), (69, 79),
#              (70, 71), (70, 80), (71, 72), (71, 81), (72, 73), (72, 82),
#              (73, 74), (73, 83), (74, 84), (74, 91), (75, 76), (75, 85),
#              (75, 95), (76, 77), (76, 86), (77, 78), (77, 87), (78, 79),
#              (78, 88), (79, 89), (80, 81), (81, 82), (81, 82),
#              (82, 83), (83, 84), (83, 84), (84, 90), (85, 86), (85, 86),
#              (85, 96), (86, 87), (87, 88), (87, 88), (88, 89), (90, 91),
#              (90, 97), (90, 97), (91, 92), (91, 98), (92, 93), (92, 99),
#              (93, 94), (93, 100), (94, 95), (94, 101), (95, 96), (95, 102),
#              (96, 103), (96, 103), (97, 98), (97, 104), (98, 99), (98, 105), (99, 100),
#              (99, 106), (100, 101), (100, 107), (101, 102), (101, 108),
#              (102, 103), (102, 109), (103, 110), (104, 105),
#              (104, 111), (104, 111), (105, 106), (105, 112), (106, 107),
#              (106, 113), (107, 108), (107, 114), (108, 109), (108, 115),
#              (109, 110), (109, 116), (110, 117), (110, 117), (111, 112), (111, 118),
#              (112, 113), (112, 119), (113, 114), (113, 120), (114, 115),
#              (114, 121), (115, 116), (115, 122), (116, 117), (116, 123),
#              (117, 124), (118, 119), (118, 125), (118, 125),
#              (119, 120), (119, 126), (120, 121), (120, 127), (121, 122),
#              (121, 128), (122, 123), (122, 129), (123, 124), (123, 130),
#              (124, 131), (124, 131), (125, 126), (125, 132), (126, 127), (126, 133),
#              (127, 128), (127, 134), (128, 129), (128, 135), (129, 130),
#              (129, 136), (130, 131), (130, 137), (131, 138),
#              (132, 133), (132, 139), (132, 139), (133, 134), (133, 140),
#              (134, 135), (134, 141), (135, 136), (135, 142), (136, 137),
#              (136, 143), (137, 138), (137, 144), (138, 145), (138, 145), (139, 140),
#              (139, 146), (140, 141), (140, 147), (141, 142), (141, 148),
#              (142, 143), (142, 149), (143, 144), (143, 150), (144, 145),
#              (144, 151), (145, 152), (146, 147),
#              (146, 153), (146, 153), (147, 148), (147, 154), (148, 149), (148, 155),
#              (149, 150), (149, 156), (150, 151), (150, 157), (151, 152),
#              (151, 158), (152, 159), (152, 159), (153, 154), (153, 160), (154, 155),
#              (154, 161), (155, 156), (155, 162), (156, 157), (156, 163),
#              (157, 158), (157, 164), (158, 159), (158, 165), (159, 166),
#              (160, 161), (160, 167), (160, 167), (161, 162),
#              (161, 168), (162, 163), (162, 169), (163, 164), (163, 170),
#              (164, 165), (164, 171), (165, 166), (165, 172), (166, 173), (166, 173),
#              (167, 168), (167, 174), (168, 169), (168, 175), (169, 170),
#              (169, 176), (170, 171), (170, 177), (171, 172), (171, 178),
#              (172, 173), (172, 179), (173, 180), (174, 175),
#              (174, 181), (174, 182), (175, 176), (175, 182), (176, 177),
#              (176, 183), (177, 178), (177, 184), (178, 179), (178, 185),
#              (179, 180), (179, 186), (180, 186), (180, 187),
#              (181, 182), (182, 183), (183, 184), (183, 184), (184, 185),
#              (185, 186), (186, 187)]  # 从上部开始

# eulerEdges = [(0, 1), (0, 5), (1, 2), (1, 6), (2, 3), (2, 3), (2, 7), (3, 4), (3, 8), (4, 9), (5, 6), (5, 10), (5, 10), (6, 7), (6, 11),
#               (7, 8), (7, 12), (8, 9), (8, 13), (9, 14), (9, 14), (10, 11), (10, 15), (11, 12), (11, 16), (12, 13), (12, 17), (13, 14), (13, 18),
#               (14, 19), (15, 16), (15, 20), (15, 20), (16, 17), (16, 21), (17, 18), (17, 22), (18, 19), (18, 23), (19, 24), (19, 24), (20, 21), (20, 25), (21, 22), (21, 26),
#               (22, 23), (22, 27), (23, 24), (23, 28), (24, 29), (25, 26), (25, 30), (25, 30), (26, 27), (26, 31), (27, 28), (27, 32), (28, 29), (28, 33),
#               (29, 34), (29, 34), (30, 31), (30, 35), (31, 32), (31, 36), (32, 33), (32, 37), (33, 34), (33, 38), (34, 39), (35, 36), (35, 40),
#               (35, 51), (36, 37), (36, 41), (37, 38), (37, 42), (38, 39), (38, 43), (39, 44), (39, 59), (40, 41), (40, 45), (40, 51), (41, 42), (41, 46), (42, 43),
#               (42, 47), (42, 48), (42, 55), (43, 44), (43, 49), (44, 50), (44, 59), (45, 46), (45, 47), (45, 52), (46, 47), (46, 53), (47, 54), (48, 49),
#               (48, 50), (48, 56), (49, 50), (49, 57), (50, 58), (51, 52), (51, 60), (52, 53), (52, 61), (53, 54), (53, 62), (54, 55), (54, 63),
#               (55, 56), (55, 64), (55, 65), (55, 93), (56, 57), (56, 66), (57, 58), (57, 67), (58, 59),  (58, 68), (59, 69), (60, 61), (60, 70),
#               (60, 70), (61, 62), (61, 71), (62, 63), (62, 72), (63, 64), (63, 73),
#               (64, 74), (64, 92), (65, 66), (65, 75), (65, 94), (66, 67),(66, 76), (67, 68), (67, 77), (68, 69), (68, 78), (69, 79), (69, 79),
#                 (70, 71), (70, 80), (71, 72), (71, 81), (72, 73), (72, 82),  (73, 74), (73, 83), (74, 84), (74, 91), (75, 76), (75, 85),
#                 (75, 95), (76, 77), (76, 86), (77, 78), (77, 87), (78, 79), (78, 88), (79, 89), (80, 81), (81, 82), (81, 82),(82, 83), (83, 84), (83, 84),
#               (84, 90), (85, 86), (85, 86), (85, 96), (86, 87), (87, 88), (87, 88), (88, 89), (90, 91),
#             (90, 97), (90, 97), (91, 92), (91, 98), (92, 93), (92, 99), (93, 94), (93, 100), (94, 95), (94, 101), (95, 96), (95, 102),
#             (96, 103), (96, 103), (97, 98), (97, 104), (98, 99), (98, 105), (99, 100), (99, 106), (100, 101), (100, 107), (101, 102), (101, 108),
#             (102, 103), (102, 109), (103, 110), (104, 105), (104, 111), (104, 111), (105, 106), (105, 112), (106, 107),
#             (106, 113), (107, 108), (107, 114), (108, 109), (108, 115), (109, 110), (109, 116), (110, 117), (110, 117), (111, 112), (111, 118),
#             (112, 113), (112, 119), (113, 114), (113, 120), (114, 115), (114, 121), (115, 116), (115, 122), (116, 117), (116, 123),
#             (117, 124), (118, 119), (118, 125), (118, 125), (119, 120), (119, 126), (120, 121), (120, 127), (121, 122),
#             (121, 128), (122, 123), (122, 129), (123, 124), (123, 130), (124, 131), (124, 131), (125, 126), (125, 132), (126, 127), (126, 133),
#             (127, 128), (127, 134), (128, 129), (128, 135), (129, 130), (129, 136), (130, 131), (130, 137), (131, 138),
#             (132, 133), (132, 139), (132, 139), (133, 134), (133, 140), (134, 135), (134, 141), (135, 136), (135, 142), (136, 137),
#             (136, 143), (137, 138), (137, 144), (138, 145), (138, 145), (139, 140), (139, 146), (140, 141), (140, 147), (141, 142), (141, 148),
#             (142, 143), (142, 149), (143, 144), (143, 150), (144, 145), (144, 151), (145, 152), (146, 147),
#             (146, 153), (146, 153), (147, 148), (147, 154), (148, 149), (148, 155), (149, 150), (149, 156), (150, 151), (150, 157),
#             (151, 152), (151, 158), (152, 159), (152, 159), (153, 154), (153, 160), (154, 155),(154, 161), (155, 156), (155, 162), (156, 157), (156, 163),
#             (157, 158), (157, 164), (158, 159), (158, 165), (159, 166),(160, 161), (160, 167), (160, 167), (161, 162),
#             (161, 168), (162, 163), (162, 169), (163, 164), (163, 170),(164, 165), (164, 171), (165, 166), (165, 172), (166, 173), (166, 173),
#             (167, 168), (167, 174), (168, 169), (168, 175), (169, 170),(169, 176), (170, 171), (170, 177), (171, 172), (171, 178),
#             (172, 173), (172, 179), (173, 180), (174, 175),(174, 181), (174, 182), (175, 176), (175, 182), (176, 177),
#             (176, 183), (177, 178), (177, 184), (178, 179), (178, 185), (179, 180), (179, 186), (180, 186), (180, 187),(181, 182), (182, 183), (183, 184), (183, 184), (184, 185),(185, 186), (186, 187)]
#

# eulerEdges = [(0, 1), (0, 9), (1, 2), (1, 2), (1, 10), (2, 3), (2, 11), (3, 4), (3, 4),
#               (3, 12), (4, 5), (4, 13), (5, 6), (5, 6), (5, 14), (6, 7), (6, 15),
#               (7, 8), (7, 16), (7, 17), (8, 17), (9, 10), (9, 18), (9, 18), (10, 11),
#               (10, 19), (11, 12), (11, 20), (12, 13), (12, 21), (13, 14), (13, 22),
#               (14, 15), (14, 23), (15, 16), (15, 24), (16, 17), (16, 25), (17, 26),
#               (18, 19), (18, 27), (19, 20), (19, 28), (20, 21), (20, 29), (21, 22),
#               (21, 30), (22, 23), (22, 31), (23, 24), (23, 32), (24, 25), (24, 33),
#               (25, 26), (25, 34), (26, 35), (26, 35), (27, 28), (27, 36), (27, 36),
#               (28, 29), (28, 37), (29, 30), (29, 38), (30, 31), (30, 39), (31, 32),
#               (31, 40), (32, 33), (32, 41), (33, 34), (33, 42), (34, 35), (34, 43),
#               (35, 44), (36, 37), (36, 45), (37, 38), (37, 46), (38, 39), (38, 47),
#               (39, 40), (39, 48), (40, 41), (40, 49), (41, 42), (41, 50), (42, 43),
#               (42, 51), (43, 44), (43, 52), (44, 53), (44, 53), (45, 46), (45, 54),
#               (45, 54), (46, 47), (46, 55), (47, 48), (47, 56), (48, 49), (48, 57),
#               (49, 50), (49, 58), (50, 51), (50, 59), (51, 52), (51, 60), (52, 53),
#               (52, 61), (53, 62), (54, 55), (54, 63), (55, 56), (55, 64), (56, 57),
#               (56, 65), (57, 58), (57, 66), (58, 59), (58, 67), (59, 60), (59, 68),
#               (60, 61), (60, 69), (61, 62), (61, 70), (62, 71), (62, 71), (63, 64),
#               (63, 83), (63, 83), (64, 65), (64, 65), (64, 72), (64, 84), (65, 66),
#               (65, 73), (65, 75), (66, 67), (66, 76), (67, 68), (67, 77), (68, 69),
#               (68, 78), (69, 70), (69, 70), (69, 79), (69, 81), (70, 71), (70, 82),
#               (70, 96), (71, 97), (72, 73), (72, 74), (72, 85), (73, 74), (73, 86),
#               (74, 75), (74, 87), (75, 76), (75, 88), (76, 77), (76, 89), (77, 78),
#               (77, 90), (78, 79), (78, 91), (79, 80), (79, 92), (80, 81), (80, 82),
#               (80, 93), (81, 82), (81, 94), (82, 95), (83, 84), (83, 104), (84, 85),
#               (84, 105), (85, 86), (85, 98), (86, 87), (86, 99), (87, 88), (87, 100),
#               (88, 89), (88, 107), (89, 90), (89, 127), (90, 91), (90, 135), (91, 92),
#               (91, 128), (92, 93), (92, 108), (93, 94), (93, 101), (94, 95), (94, 102),
#               (95, 96), (95, 103), (96, 97), (96, 110), (97, 111), (97, 111), (98, 99),
#               (98, 100), (98, 105), (99, 100), (99, 106), (100, 107), (101, 102), (101, 103),
#               (101, 108), (102, 103), (102, 109), (103, 110), (104, 105), (104, 112),
#               (104, 112), (105, 106), (105, 106), (105, 113), (106, 107), (106, 114),
#               (106, 126), (107, 127), (108, 109), (108, 128), (109, 110), (109, 110),
#               (109, 115), (109, 129), (110, 111), (110, 116), (111, 117), (112, 113),
#               (112, 118), (113, 114), (113, 119), (114, 120), (114, 125), (115, 116),
#               (115, 121), (115, 130), (116, 117), (116, 122), (117, 122), (117, 123),
#               (118, 119), (119, 120), (119, 120), (120, 124), (121, 122), (121, 131),
#               (121, 131), (122, 123), (124, 125), (124, 132), (124, 132), (125, 126),
#               (125, 133), (126, 127), (126, 134), (127, 135), (128, 129), (128, 135), (129, 130),
#               (129, 136), (130, 131), (130, 137), (131, 138), (132, 133), (132, 139),
#               (133, 134), (133, 140), (134, 135), (134, 141), (135, 136), (135, 142),
#               (136, 137), (136, 143), (137, 138), (137, 144), (138, 145), (138, 145),
#               (139, 140), (139, 146), (139, 146), (140, 141), (140, 147), (141, 142),
#               (141, 148), (142, 143), (142, 149), (143, 144), (143, 150), (144, 145), (144, 151), (145, 152),
#               (146, 147), (146, 153), (147, 148), (147, 154), (148, 149), (148, 155),
#               (149, 150), (149, 156), (150, 151), (150, 157), (151, 152), (151, 158),
#               (152, 159), (152, 165), (153, 154), (153, 160), (154, 155), (154, 161),
#               (155, 156), (155, 162), (156, 157), (156, 163), (157, 158), (157, 164),
#               (158, 159), (158, 165), (159, 166), (160, 161), (161, 162), (161, 162),
#               (162, 163), (163, 164), (163, 164), (164, 165), (165, 166)]   # ring gear edges


'''planet_edges_small '''
# eulerEdges = [(0, 1), (0, 9), (1, 2), (1, 10), (2, 3), (2, 3), (2, 11), (3, 4), (3, 12),
#                       (4, 5), (4, 5), (4, 13), (4, 14), (4, 31), (5, 6), (5, 15), (6, 7), (6, 7),
#                       (6, 16), (7, 8), (7, 17), (8, 18), (9, 10), (9, 19), (9, 20), (10, 11), (10, 20),
#                       (11, 12), (11, 21), (12, 13), (12, 22), (13, 23), (13, 30), (14, 15), (14, 24),
#                       (14, 32), (15, 16), (15, 25), (16, 17), (16, 26), (17, 18), (17, 27), (18, 27),
#                       (18, 28), (19, 20), (20, 21), (21, 22), (21, 22), (22, 23), (23, 29), (23, 29),
#                       (24, 25), (24, 33), (24, 33), (25, 26), (25, 26), (26, 27), (27, 28), (29, 30),
#                       (29, 34), (30, 31), (30, 35), (31, 32), (31, 36), (32, 33), (32, 37), (33, 38),
#                       (34, 35), (34, 39), (34, 39), (35, 36), (35, 40), (36, 37), (36, 41), (37, 38),
#                       (37, 42), (38, 43), (38, 43), (39, 40), (39, 44), (40, 41), (40, 45), (41, 42),
#                       (41, 46), (42, 43), (42, 47), (43, 48), (44, 45), (44, 49), (44, 49), (45, 46),
#                       (45, 50), (46, 47), (46, 51), (47, 48), (47, 52), (48, 53), (48, 53), (49, 50),
#                       (49, 54), (50, 51), (50, 55), (51, 52), (51, 56), (52, 53), (52, 57), (53, 58),
#                       (54, 55), (54, 59), (54, 59), (55, 56), (55, 60), (56, 57), (56, 61), (57, 58),
#                       (57, 62), (58, 63), (58, 63), (59, 60), (59, 64), (60, 61), (60, 65), (61, 62),
#                       (61, 66), (62, 63), (62, 67), (63, 68), (64, 65), (64, 69), (64, 69), (65, 66),
#                       (65, 70), (66, 67), (66, 71), (67, 68), (67, 72), (68, 73), (68, 73), (69, 70),
#                       (69, 74), (70, 71), (70, 75), (71, 72), (71, 76), (72, 73), (72, 77), (73, 78),
#                       (74, 75), (74, 79), (74, 79), (75, 76), (75, 80), (76, 77), (76, 81), (77, 78),
#                       (77, 82), (78, 83), (78, 83), (79, 80), (79, 84), (80, 81), (80, 85), (81, 82),
#                       (81, 86), (82, 83), (82, 87), (83, 88), (84, 85), (84, 89), (84, 90), (85, 86),
#                       (85, 90), (86, 87), (86, 91), (87, 88), (87, 92), (88, 93), (89, 90), (90, 91),
#                       (91, 92), (91, 92), (92, 93)]

'''ring_edges_small '''
# eulerEdges =  [(0, 1), (0, 7), (1, 2), (1, 8), (2, 3), (2, 3), (2, 9), (3, 4), (3, 10), (4, 5),
#                     (4, 5), (4, 11), (5, 6), (5, 12), (6, 13), (7, 8), (7, 14), (7, 14), (8, 9), (8, 15),
#                     (9, 10), (9, 16), (10, 11), (10, 17), (11, 12), (11, 18), (12, 13), (12, 19),
#                     (13, 20), (13, 20), (14, 15), (14, 21), (15, 16), (15, 22), (16, 17), (16, 23),
#                     (17, 18), (17, 24), (18, 19), (18, 25), (19, 20), (19, 26), (20, 27), (21, 22),
#                     (21, 28), (21, 28), (22, 23), (22, 29), (23, 24), (23, 30), (24, 25), (24, 31),
#                     (25, 26), (25, 32), (26, 27), (27, 33), (27, 34), (27, 34), (28, 29), (28, 35),
#                     (29, 30), (29, 36), (30, 31), (30, 37), (31, 32), (31, 38), (32, 33), (32, 39),
#                     (33, 34), (33, 40), (34, 41), (35, 36), (35, 42), (35, 43), (36, 37), (36, 43),
#                     (37, 38), (37, 44), (38, 39), (38, 45), (39, 40), (39, 46), (40, 41), (40, 47),
#                     (41, 48), (41, 47), (42, 43), (42, 49), (42, 60), (43, 44), (43, 50), (43, 52),
#                     (44, 45), (44, 53), (45, 46), (45, 54), (46, 47), (46, 55), (47, 48), (47, 56), (47, 58), (48, 59),
#                     (48, 72), (49, 50), (49, 51), (49, 61), (50, 51), (50, 62), (51, 52), (51, 63),
#                     (52, 53), (52, 64), (53, 54), (53, 65), (54, 55), (54, 66), (55, 56), (55, 67),
#                     (56, 57), (56, 68), (57, 58), (57, 59), (57, 69), (58, 59), (58, 70), (59, 71),
#                     (60, 61), (60, 79), (60, 80), (61, 62), (61, 73), (62, 63), (62, 74), (63, 64), (63, 75),
#                     (64, 65), (64, 81), (65, 66), (65, 96), (66, 67), (66, 104), (67, 68), (67, 97),
#                     (68, 69), (68, 82), (69, 70), (69, 76), (70, 71), (70, 77), (71, 72), (71, 78),
#                     (72, 83), (72, 84), (73, 74), (73, 75), (73, 79), (74, 75), (74, 80), (75, 81), (76, 77),
#                     (76, 78), (76, 82), (77, 78), (77, 83), (78, 84), (79, 80), (79, 85), (80, 81),
#                     (80, 88), (80, 95), (81, 96), (82, 83), (82, 97), (83, 84), (83, 92), (83, 98),
#                     (84, 89), (85, 86), (85, 87), (85, 88), (86, 87), (87, 88), (87, 93), (88, 94),
#                     (89, 90), (89, 91), (89, 92), (90, 91), (91, 92), (91, 100), (92, 99), (93, 94),
#                     (93, 101), (93, 101), (94, 95), (94, 102), (95, 96), (95, 103), (96, 104),
#                     (97, 98), (97, 104), (98, 99), (98, 105), (99, 100), (99, 106), (100, 107),
#                     (100, 107), (101, 102), (101, 108), (102, 103), (102, 109), (103, 104), (103, 110),
#                     (104, 105), (104, 111), (105, 106), (105, 112), (106, 107), (106, 113), (107, 114),
#                     (108, 109), (108, 115), (108, 115), (109, 110), (109, 116), (110, 111), (110, 117),
#                     (111, 112), (111, 118), (112, 113), (112, 119), (113, 114), (113, 120), (114, 121),
#                     (114, 121), (115, 116), (115, 122), (116, 117), (116, 123), (117, 118), (117, 124),
#                     (118, 119), (118, 125), (119, 120), (119, 126), (120, 121), (120, 127), (121, 128),
#                     (122, 123), (123, 124), (123, 124), (124, 125), (125, 126), (125, 126), (126, 127),
#                     (127, 128)]

'''sun_edges_small'''
# eulerEdges = [(0, 1), (0, 3), (1, 2), (1, 4), (2, 5), (3, 4), (3, 6), (3, 6), (4, 5), (4, 7), (5, 8),
#                    (5, 8), (6, 7), (6, 9), (7, 8), (7, 10), (8, 11), (9, 10), (9, 12), (9, 12), (10, 11),
#                    (10, 13), (11, 14), (11, 14), (12, 13), (12, 15), (13, 14), (13, 16), (14, 17), (15, 16),
#                    (15, 18), (15, 18), (16, 17), (16, 26), (17, 21), (17, 21), (18, 19), (18, 26), (19, 20),
#                    (19, 24), (19, 25), (20, 24), (21, 22), (21, 26), (22, 23), (22, 27), (22, 28), (23, 28),
#                    (24, 25), (24, 29), (25, 26), (25, 30), (26, 27), (26, 31), (27, 28), (27, 32), (28, 33),
#                    (29, 30), (29, 34), (29, 34), (30, 31), (30, 35), (31, 32), (31, 36), (32, 33), (32, 37),
#                    (33, 38), (33, 38), (34, 35), (34, 39), (35, 36), (35, 40), (36, 37), (36, 41), (37, 38),
#                    (37, 42), (38, 43), (39, 40), (40, 41), (40, 41), (41, 42), (42, 43)]

'''sun_edges_new'''
eulerEdges = [(0, 1), (0, 5), (1, 2), (1, 6), (2, 3), (2, 3), (2, 7), (3, 4), (3, 8), (4, 9), (5, 6),
                 (5, 10), (5, 10), (6, 7), (6, 11), (7, 8), (7, 12), (8, 9), (8, 13), (9, 14), (9, 14),
                 (10, 11), (10, 15), (11, 12), (11, 16), (12, 13), (12, 17), (13, 14), (13, 18), (14, 19), (15, 16),
                 (15, 20), (15, 20), (16, 17), (16, 21), (17, 18), (17, 22), (18, 19), (18, 23), (19, 24),
                 (19, 24), (20, 21), (20, 25), (21, 22), (21, 26), (22, 23), (22, 27), (23, 24), (23, 28),
                 (24, 29), (25, 26), (25, 30), (25, 30), (26, 27), (26, 31), (27, 28), (27, 32), (28, 29),
                 (28, 33), (29, 34), (29, 34), (30, 31), (30, 35), (31, 32), (31, 36), (32, 33), (32, 49),
                 (33, 34), (33, 37), (34, 38), (35, 36), (35, 39), (35, 39), (36, 40), (36, 49), (37, 38),
                 (37, 41), (37, 49), (38, 42), (38, 42), (39, 40), (39, 43), (40, 44), (40, 48), (41, 42),
                 (41, 45), (41, 50), (42, 46), (43, 44), (44, 47), (44, 47), (45, 46), (45, 51), (45, 51),
                 (47, 48), (47, 52), (48, 49), (48, 53), (49, 50), (49, 54), (50, 51), (50, 55), (51, 56),
                 (52, 53), (52, 57), (52, 57), (53, 54), (53, 58), (54, 55), (54, 59), (55, 56), (55, 60),
                 (56, 61), (56, 61), (57, 58), (57, 62), (58, 59), (58, 63), (59, 60), (59, 64), (60, 61),
                 (60, 65), (61, 66), (62, 63), (62, 67), (62, 68), (63, 64), (63, 68), (64, 65), (64, 69),
                 (65, 66), (65, 70), (66, 71), (67, 68), (68, 69), (69, 70), (69, 70), (70, 71)]

'''planetgear_Element10_Toothnew'''
# eulerEdges = [(12, 13), (12, 15), (13, 14), (13, 16), (14, 17), (15, 16), (15, 18),
#               (15, 22), (16, 17), (16, 19), (16, 20), (16, 25), (17, 21), (17, 28), (18, 19),
#               (18, 23), (19, 24), (20, 21), (20, 26), (21, 27), (22, 23), (22, 29), (23, 24),
#               (23, 30), (24, 25), (24, 31), (25, 26), (25, 32), (26, 27), (26, 33), (27, 28),
#               (27, 34), (28, 35), (29, 30), (29, 36), (30, 31), (30, 37), (31, 32), (31, 38),
#               (32, 33), (32, 39), (32, 40), (32, 54), (33, 34), (33, 41), (34, 35), (34, 42),
#               (35, 43), (36, 37), (36, 44), (37, 38), (37, 45), (38, 39), (38, 46), (39, 47),
#               (39, 53), (40, 41), (40, 48), (40, 55), (41, 42), (41, 49), (42, 43), (42, 50),
#               (43, 51), (44, 45), (45, 46), (46, 47), (47, 52), (48, 49), (48, 56), (49, 50),
#               (50, 51), (52, 53), (52, 57), (53, 54), (53, 58), (54, 55), (54, 59), (55, 56),
#               (55, 60), (56, 61), (57, 58), (57, 62), (58, 59), (58, 63), (59, 60), (59, 64),
#               (60, 61), (60, 65), (61, 66), (62, 63), (62, 67), (63, 64), (63, 68), (64, 65),
#               (64, 69), (65, 66), (65, 70), (66, 71), (67, 68), (67, 72), (68, 69), (68, 73),
#               (69, 70), (69, 74), (70, 71), (70, 75), (71, 76), (72, 73), (72, 77), (73, 74),
#               (73, 78), (74, 75), (74, 79), (75, 76), (75, 80), (76, 81), (77, 78), (77, 82),
#               (78, 79), (78, 83), (79, 80), (79, 84), (80, 81), (80, 85), (81, 86), (82, 83),
#               (82, 87), (83, 84), (83, 88), (84, 85), (84, 89), (85, 86), (85, 90), (86, 91),
#               (87, 88), (87, 92), (88, 89), (88, 93), (89, 90), (89, 94), (90, 91), (90, 95),
#               (91, 96), (92, 93), (92, 97), (93, 94), (93, 98), (94, 95), (94, 99), (95, 96),
#               (95, 100), (96, 101), (97, 98), (97, 102), (98, 99), (98, 103), (99, 100), (99, 104),
#               (100, 101), (100, 105), (101, 106), (102, 103), (102, 107), (103, 104), (103, 108),
#               (104, 105), (104, 109), (105, 106), (105, 110), (106, 111), (107, 108), (107, 112),
#               (108, 109), (108, 113), (109, 110), (109, 114), (110, 111), (110, 115), (111, 116),
#               (112, 113), (113, 114), (114, 115), (115, 116)]

new_edges = sorted(eulerEdges)
# print(new_edges)

start = 1  # start position planet 1, ring 153
visited = [0 for i in range(len(eulerEdges))]  # already visited path
queue = []  # store the path
eulerFlag = False

def isEuler():
    allVisited = True
    for e in visited:
        if e == 0:
            allVisited = False
    if allVisited:
        if queue[0] == queue[len(queue) - 1]:
            return 1
        else:
            return 2
    return 0


def printPath(flag):
    if flag == 1:
        print("Eulerian loop:", end='')
    else:
        print("Eulerian path:", end='')
    for i in range(len(queue)):
        if i < len(queue) - 1:
            # print(queue[i], '-> ', end='')
            print(queue[i], ', ', end='')
        else:
            print(queue[i])


# information about the state of only one path is saved during exploration, and the route is not repeated
def dfs(u):
    queue.append(u)
    flag = isEuler()  # determine if the current road force is Eulerian path, if it is print
    if flag > 0:
        eulerFlag = True
        printPath(flag)

    for i in range(len(eulerEdges)):
        if visited[i] == 1:
            continue
        edge = eulerEdges[i]
        # edge = new_edges[i]
        if edge[0] == u:
            visited[i] = 1
            dfs(edge[1])
            # # pop the already searched stated
            # queue.pop()
            # # rest the state
            # visited[i] = 0
        elif edge[1] == u:
            visited[i] = 1
            dfs(edge[0])
            # # pop the already searched stated
            # queue.pop()
            # # rest the state
            # visited[i] = 0

if __name__ == '__main__':
    dfs(start)
    # if not eulerFlag:
    #     print("exist no Eulerian loop or Eulerian path")
